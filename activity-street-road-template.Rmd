---
title: "Activity: Street or Road?"
author: "Nandagopal Panicker"
output: html_notebook
---

## Load in the data

```{r}
#load libraries 
library(tidyverse)
#load in the data here 
# we will only be using the "street-addresses.csv" file from the text
voters_file <- "C:\\Users\\nanda\\STAT 184 Summer\\Datasets\\street-addresses.csv"
medicare_file <- "C:\\Users\\nanda\\STAT 184 Summer\\Datasets\\CMS_ProvidersSimple.rds"
voters <- read.csv(voters_file)
medicare <- readRDS(medicare_file)

```

```{r}
head(voters$address, 20)
```
```{r}
head(medicare$address, 20)
```


## Recreate Solved Example using `sample(50)`

```{r}
Sample <- voters %>% sample_n(size = 50)
Matches_PO <- Sample %>% filter(str_detect(address, "PO"))
print(Matches_PO$address)

```
```{r}
Dont_PO <- Sample %>% filter(!str_detect(address, "PO"))
print(Dont_PO$address)
```
```{r}
pattern <- "BOX\\s+(\\d+)"
Matches_BOX <- Sample %>% filter(str_detect(address, pattern))
print(Matches_BOX$address)
```
```{r}
Dont_BOX <- Sample %>% filter(!str_detect(address, pattern))
print(Dont_BOX)
```
```{r}
BoxNumbers <- Matches_BOX %>%
  extract(address, into = "boxnum", regex = pattern)

print(BoxNumbers$boxnum)
```

## Recreate Soved Example using the entire `Address` data set

Note: I have named the dataset voters instead of address.

```{r}


```

#### Additional Question: How many addresses are a PO BOX (including NCSU BOX)? 

```{r}


```

My answer here...... 


## Back to the Streets: Your Turn

#### Part 1: Explain (in english) each line of the following code chunk

```{r}
pattern <- "(ST|RD|ROAD)"
LeftOvers <-
  Addresses %>% 
  filter( !grepl(pattern, address),
          !grepl("\\sAPT|UNIT\\s[\\d]+$", address),
          !grepl(" BOX ", address)
          )
```

My answer here.......

#### Part 2: Implement your method on the entire `Addresses` data set. Explain how your code works line by line.

```{r}



```

My answer here.......

#### Additional Question 1: Present your result from part 2 by providing a table in descending order of popularity for the street name endings you found

```{r}


```

#### Additional Question 2: Present your result by using ggplot to a bar chart in descending order of popularity for the street name endings you found previously.

Note: make sure your order street names according to popularity, not alphabetically.

```{r}

```

#### Additional Question 3: Comment on any patterns you see

My answer here.......
